<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="static/login.css">
    <title>Login</title>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
                <div class="card card-signin my-5">
                    <div class="card-body">
                        <h5 class="card-title text-center">Sign Up</h5>
                        <form class="form-signin" action="/signup" method="POST">
                            {% if message %}
                            <p align="center" style="color:green"> {{message}} </p>
                            {% endif %}
                            {% if error %}
                            <p align="center" style="color:red"> {{error}} </p>
                            {% endif %}
                            <br>
                            <div class="form-label-group">
                                <input type="username" id="inputEmail" name="username" class="form-control" placeholder="Username" onkeyup=checkUsername() required autofocus>
                                <label for="inputEmail">Username</label>
                            </div>
                            <p align="center" id="usersuccess" style="color:green"></p>
                            <p align="center" id="usererror" style="color:red"></p>
                            <div class="form-label-group">
                                <input type="password" id="inputPassword" name="password" class="form-control" placeholder="Password" required>
                                <label for="inputPassword">Password</label>
                            </div>
                            <div class="form-label-group">
                                <input type="password" id="inputConfirmPassword" name="confirm_password" class="form-control" placeholder="Confirm Password" onkeyup=checkpassword() required>
                                <label for="inputConfirmPassword">Confirm Password</label>
                            </div>
                            <p align="center" id="error" style="color:red"> </p>
                            <p align="center" id="success"style="color:green"></p>
                            <button class="btn btn-lg btn-primary btn-block text-uppercase" id="signup" type="submit">Sign Up</button>
                            <br><br>
                            <p> Have an account already?</p>
                            <a href="/" class="btn btn-lg btn-primary btn-block text-uppercase">Login</a>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="./userCheck.js"></script>
</html>

<script>
    function checkpassword(){
        var password=document.getElementById("inputPassword").value;
        var confirm_password=document.getElementById("inputConfirmPassword").value;
        if(password == confirm_password){
            $("#error").html("");
            document.getElementById("signup").disabled = false;
            $("#success").html("Passwords Matched");
        }else{
            $("#success").html("");
            document.getElementById("signup").disabled = true;
            $("#error").html("Passwords Mismatched");
        }
    }

     </script>